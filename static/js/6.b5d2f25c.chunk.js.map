{"version":3,"sources":["page/login-page/index.js"],"names":["LoginPage","t","useTranslation","useActions","login","cleanError","useState","register","setRegister","username","password","inputData","setInputData","popError","setPopError","useSelector","state","auth","error_message","handleRegister","prev","handleKeyPress","event","key","handleLogin","eventTracker","useEffect","Boolean","window","location","href","renderRegister","sx","display","alignItems","marginTop","color","mr","my","id","label","variant","type","loginButton","onClick","onKeyPress","startIcon","margin","registerButton","alert","popAlert","severity","width","backgroundColor","padding","flexDirection","border","boxShadow","component","gutterBottom","fontWeight","in","onChange","e","target","value","control","defaultChecked","justifyContent"],"mappings":"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","file":"static/js/6.b5d2f25c.chunk.js","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport TextField from '@mui/material/TextField';\r\nimport AccountCircle from '@mui/icons-material/AccountCircle';\r\nimport PasswordIcon from '@mui/icons-material/Password';\r\nimport EmailIcon from '@mui/icons-material/Email';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\r\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\r\nimport Button from \"@mui/material/Button\";\r\nimport Typography from \"@mui/material/Typography\"\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Alert from '@mui/material/Alert';\r\nimport Collapse from '@mui/material/Collapse';\r\n\r\nimport { useTranslation} from 'react-i18next';\r\nimport {useSelector} from \"react-redux\"\r\nimport { useActions } from \"../../hooks/useActions\";\r\nimport {eventTracker} from \"../../hooks/useEventTracker\"\r\n\r\nfunction LoginPage() {\r\n\r\n    const {t} = useTranslation();\r\n    const {  login, cleanError } = useActions();\r\n\r\n    const [register,setRegister] = useState(false);\r\n    const [inputData,setInputData] = useState({username:\"\",password:\"\"});\r\n    const [popError, setPopError] = useState(false);\r\n\r\n    // const {authorize} = bindActionCreators(actionCreator,dispatch);\r\n    const { auth, error_message } = useSelector(state =>state.auth);\r\n\r\n    const handleRegister=()=>{\r\n        setPopError(false);\r\n        setRegister(prev=>!prev);\r\n    };\r\n\r\n    const handleKeyPress=(event)=>{\r\n        if(event.key===\"Enter\"){\r\n            handleLogin()\r\n        }\r\n    };\r\n    const handleLogin=()=>{\r\n        let {username, password} = inputData;\r\n        login(username,password);\r\n        eventTracker(\"user action\",\"user login\");\r\n    };\r\n\r\n    useEffect(() =>{\r\n        if (error_message) {\r\n            setPopError(Boolean(error_message));\r\n            cleanError()\r\n        }\r\n    },[error_message,cleanError]);\r\n\r\n    useEffect(()=>{\r\n       if(auth){\r\n           window.location.href = '#/';\r\n       }\r\n    },[auth]);\r\n\r\n    const renderRegister=(\r\n        <>\r\n            <Box sx={{ display: 'flex', alignItems: 'flex-end',marginTop:\"1.5em\" }}>\r\n                <PasswordIcon sx={{ color: 'action.active', mr: 1, my: 0.5 }} />\r\n                <TextField id=\"input-with-sx\" label={t(\"register.check\")} variant=\"standard\" type=\"password\"/>\r\n            </Box>\r\n            <Box sx={{ display: 'flex', alignItems: 'flex-end',marginTop:\"1.5em\" }}>\r\n                <PersonIcon sx={{ color: 'action.active', mr: 1, my: 0.5 }} />\r\n                <TextField id=\"input-with-sx\" label={t(\"register.username\")} variant=\"standard\" type=\"password\"/>\r\n            </Box>\r\n            <Box sx={{ display: 'flex', alignItems: 'flex-end',marginTop:\"1.5em\" }}>\r\n                <EmailIcon sx={{ color: 'action.active', mr: 1, my: 0.5 }} />\r\n                <TextField id=\"input-with-sx\" label={t(\"register.email\")} variant=\"standard\" type=\"password\"/>\r\n            </Box>\r\n        </>\r\n    );\r\n\r\n    const loginButton = (\r\n        <> \r\n            <Button variant=\"contained\" onClick={handleLogin} onKeyPress={handleKeyPress}>{t(\"login.login\")}</Button>\r\n            <Button variant=\"contained\" color='warning' startIcon={<ArrowForwardIosIcon />} sx={{ margin:\"1em\" }} onClick={handleRegister}>\r\n                {t(\"login.register\")}\r\n            </Button>\r\n        </>\r\n    );\r\n    const registerButton = (\r\n        <>\r\n            <Button variant=\"contained\" onClick={()=>alert(\"sign up\")}>{t(\"register.sign_up\")}</Button>\r\n            <Button variant=\"contained\" color= 'warning' startIcon={<ArrowBackIosIcon />} sx={{ margin:\"1em\" }} onClick={handleRegister}>\r\n                {t(\"register.back\")}\r\n            </Button>\r\n        </>\r\n    );\r\n\r\n    const popAlert=(\r\n        <Alert severity=\"error\">\r\n           <strong>{t(\"login.incorrect\")}</strong>\r\n        </Alert>\r\n    );\r\n\r\n    return (\r\n        <Box sx={{ \r\n            width: '50%',\r\n            backgroundColor: 'white',\r\n            margin: 'auto',marginTop: 8,padding:\"2em\",\r\n            display: 'flex', flexDirection: 'column',\r\n            alignItems: 'center',border: '2px solid black',boxShadow:\"5px 5px 8px 3px #000000\"}}>\r\n            <Typography variant=\"h3\" component=\"div\" gutterBottom sx={{fontWeight:\"bold\",color:\"blue\"}}>\r\n                {!register?t(\"login.title\"):t(\"register.title\")}\r\n            </Typography>\r\n            <Collapse in={popError}>\r\n                {popAlert}\r\n            </Collapse>\r\n            <FormControl variant=\"standard\">\r\n                <Box sx={{ display: 'flex', alignItems: 'flex-end' }}>\r\n                    <AccountCircle sx={{ color: 'action.active', mr: 1, my: 0.5 }} />\r\n                    <TextField \r\n                        id=\"input-with-sx\" label={t(\"login.account\")} \r\n                        variant=\"standard\" onChange={(e)=>setInputData({...inputData,username:e.target.value})}\r\n                    />\r\n                </Box>\r\n                <Box sx={{ display: 'flex', alignItems: 'flex-end',marginTop:\"1.5em\" }}>\r\n                    <PasswordIcon sx={{ color: 'action.active', mr: 1, my: 0.5 }} />\r\n                    <TextField\r\n                        id=\"input-with-sx\" label={t(\"login.password\")} \r\n                        onKeyPress={handleKeyPress}\r\n                        variant=\"standard\" type=\"password\" onChange={(e)=>setInputData({...inputData,password:e.target.value})}\r\n                        />\r\n                </Box>\r\n                {register?renderRegister:null}\r\n            </FormControl>\r\n            \r\n            {!register?<FormControlLabel control={<Checkbox defaultChecked />} label={t(\"login.remember\")} sx={{marginTop:\"1.5em\"}}/>:null}\r\n            <Box sx={{ marginTop:'2em',justifyContent: 'center'}}>\r\n                {!register?loginButton:registerButton}\r\n            </Box>\r\n            \r\n        </Box>\r\n    )\r\n};\r\n\r\nexport default LoginPage;\r\n"],"sourceRoot":""}